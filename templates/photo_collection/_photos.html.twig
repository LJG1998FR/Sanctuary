<main class="mt-3 d-flex gap-4 flex-wrap justify-content-center" id="main-container" data-controller="photo" data-photocollectionid="{{ photo_collection.id }}">
    <a href="{{ path('admin_photo_collection_show', {id: photo_collection.id}) }}" class="d-flex align-items-center btn btn-dark new-position hidden" data-turbo-frame="photos">
        <i class="bi bi-plus-circle"></i>
    </a>
    {% for photo in photo_collection.photos|sort((a,b) => a.position <=> b.position) %}
        <div class="card">
            <div class="d-flex align-items-center justify-content-end mb-2">
                <input data-photoid="{{ photo.id }}" data-photorank="{{ photo.position }}" class="rankInput" type="hidden" name="photo_rank_{{ photo.id }}" value="{{ photo.position }}" min=1>

                <label class="update-photo-label me-2" for="update_photo_{{ photo.id }}">
                    <i class="bi bi-pencil-fill"></i>
                </label>
                <input type="file" data-id={{ photo.id }} id="update_photo_{{ photo.id }}" accept="image/*" name="update_photo_{{photo.id}}[filename]" class="form-control update-photo-input" hidden>
                <input type="hidden" id="update_photo_{{ photo.id }}__token" name="update_photo_{{photo.id}}[_token]" data-controller="csrf-protection" value="csrf-token">
            </div>
            <img id="photo_{{ photo.id }}" class="card-img-top photoItem" src="{{ asset('/uploads/photos/') }}{{ photo_collection.slugger }}/{{photo.filename}}" alt="{{photo.filename}}">
        </div>
        <a href="{{ path('admin_photo_collection_show', {id: photo_collection.id}) }}" class="d-flex align-items-center btn btn-dark new-position hidden" data-turbo-frame="photos">
            <i class="bi bi-plus-circle"></i>
        </a>
    {% else %}
        <h2>This collection is empty. Maybe <a href="{{ path('admin_photo_new', {'photo_collection_id' : photo_collection.id}) }}">add some photos ?</a></h2>
    {% endfor %}
</main>